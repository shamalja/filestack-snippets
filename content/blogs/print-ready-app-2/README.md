# Print-Ready Image Workflow Demo (Filestack)

This repository contains a working example that demonstrates how to convert uploaded images to JPEG and prepare them for printing using Filestack File Picker and Filestack Workflows.

The demo shows how to:

- Accept user uploads in any image format

- Run the uploaded image through a Filestack Workflow

- Convert the image to JPEG

- Apply print-ready transformations (such as resizing and color space conversion)

- Return and display the processed, print-ready image

## What This Demo Does

- Users upload an image using the Filestack File Picker

- The uploaded file handle is sent to a backend server

- The backend triggers a Filestack Workflow

- The workflow:

  - Converts the image to JPEG

  - Applies print-ready transformations

  - Stores the processed image

- The app polls the workflow status

- Once complete, the print-ready image is displayed alongside the original upload

## Project Structure
```
.
├── index.html      # Frontend UI
├── style.css       # Basic styling
├── app.js          # Frontend logic (upload + polling)
├── server.js       # Backend server (Workflow API calls)
└── README.md
```

## Prerequisites

Before running this demo, make sure you have:

- A Filestack account (Don’t have a Filestack account? [Sign up for free here](https://www.filestack.com/signup-start/).)

- A Filestack API key

- A Filestack App Secret

- A Filestack Workflow configured with:

  - output task (JPEG conversion)

  - resize task (print dimensions)

  - store task (final output)

  Learn how to create and configure workflows in the [Filestack documentation](https://www.filestack.com/docs/workflows/overview/).

- Node.js (v16+ recommended)

## Setup Instructions

### 1️⃣ Clone the repository

`git clone https://github.com/fileschool/filestack-snippets.git`

`cd filestack-snippets/content/blogs/print-ready-app-2`

### 2️⃣ Configure Filestack credentials

Open server.js and replace the placeholders:

- const FILESTACK_API_KEY = "YOUR_API_KEY";

- const FILESTACK_APP_SECRET = "YOUR_FILESTACK_APP_SECRET";

- const WORKFLOW_ID = "YOUR_WORKFLOW_ID";

**⚠️ Important:**

- Never expose your Filestack App Secret on the frontend.
  
- This demo keeps it securely on the server.

### 3️⃣ Update the `store` task name (if needed)

In `app.js`, this demo expects the Store task name to be:

`store_1766662754939` (this is the `store` task name in my workflow)

If your workflow uses a different `store` task name, update this section:

```
const output =
              data.results &&
              data.results.store_1766662754939 &&
              data.results.store_1766662754939.data
          ? data.results.store_1766662754939.data.url
        : null;
```

**Tip:** For production apps, give your Store task a stable name like `store_print_ready`.

### 4️⃣ Start the backend server

`node server.js`

You should see:

`Server running at http://localhost:3001`

### 5️⃣ Open the frontend

- Open `index.html` in your browser (or serve it with a local server). Learn [how to use a local HTTP server to test your web apps locally](https://webdevhub.dev/how-to-use-local-http-server-test-web-apps/).

- Click Upload Image, select a file, and watch the workflow process it.

## What You’ll See

Left: Original uploaded image

Right: Print-ready image generated by the Filestack Workflow

Each image is delivered via Filestack’s CDN using a different file handle.

## Security Notes

- App Secrets must always stay server-side

- Policies and signatures are generated dynamically per request

- This demo uses short-lived security policies for safety

## Learn More

[Filestack Workflows Documentation](https://www.filestack.com/docs/workflows/overview/)

[Filestack File Picker Documentation](https://www.filestack.com/docs/uploads/pickers/web/)

## Related Article

This demo accompanies the article:

[How to Convert Uploaded Images to JPEG for Reliable Printing Workflows](https://blog.filestack.com/convert-images-to-jpeg-for-printing-workflows/)

It explains the concepts, architecture, and workflow design behind this example.

## License

This project is licensed under the [MIT License](https://github.com/fileschool/filestack-snippets/blob/main/content/blogs/print-ready-app-2/LICENSE).

## Credits

Created as part of the article:

[How to Convert Uploaded Images to JPEG for Reliable Printing Workflows](https://blog.filestack.com/convert-images-to-jpeg-for-printing-workflows/)

Brought to life using [Filestack](https://www.filestack.com/).

Created by [Shamal Jayawardhana](https://www.linkedin.com/in/shamal-jayawardhana/)
